<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Building Tiramisu (Long Version)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Building Tiramisu (Long Version) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Tiramisu has been well tested on Linux Ubuntu (18.04) and MacOS (10.12), if you find any problem installing Tiramisu please consider using one of these systems.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Prerequisites</h3>
<p >For MacOs, we provide instructions on how to install the missing packages using <a href="https://brew.sh/">Homebrew</a> but you can install these packages using any other way. If you do not have Homebrew, you can install it as described <a href="https://docs.brew.sh/Installation">here</a>.</p>
<p >If you are installing Tiramisu on Ubuntu 18.04, you can install all the required packages for generating CPU code by running the following command </p><pre class="fragment">  sudo apt-get install autoconf libtool git cmake gcc g++ libpng-dev zlib1g-dev libjpeg-dev
</pre><p> The next section provides more details about the installation of these prerequisites.</p>
<h5>Required</h5>
<p >1) <a href="https://cmake.org/">CMake</a>: version 3.5 or greater. </p><pre class="fragment">    # On Ubuntu
    sudo apt-get install cmake

    # On MacOS
    sudo brew install cmake
</pre><p> 2) <a href="https://www.gnu.org/software/autoconf/">Autoconf</a> and <a href="https://www.gnu.org/software/libtool/">libtool</a>. </p><pre class="fragment">    # On Ubuntu
    sudo apt-get install autoconf libtool

    # On MacOS
    sudo brew install autoconf libtool
</pre> <h5>Optional Packages</h5>
<p >1) <a href="https://www.open-mpi.org/">OpenMPI</a> and <a href="https://www.openssh.com/">OpenSSh</a>: to run the generated distributed code (MPI). </p><pre class="fragment">    # On Ubuntu
    sudo apt-get install openmpi-bin openmpi-common libopenmpi-dev libopenmpi-dbg
    sudo apt-get install openssh-client openssh-server

    # On MacOs
    sudo brew install open-mpi
    sudo brew install openssh
</pre><p> 2) <a href="https://developer.nvidia.com/cuda-toolkit">CUDA Toolkit</a>: to run the generated CUDA code. </p><pre class="fragment">    # Downalod and install the CUDA toolkit
    https://developer.nvidia.com/cuda-toolkit
</pre><p >Tiramisu requires the following packages to be installed: ISL, Halide and LLVM. The user is supposed to install them by running the script <code>./utils/scripts/install_submodules.sh &lt;TIRAMISU_ROOT_PATH&gt;</code>. If the script fails, the user can still install them manually as described below.</p>
<h4><a class="anchor" id="autotoc_md7"></a>
Building ISL</h4>
<p >Install the <a href="http://isl.gforge.inria.fr/">ISL</a> Library as follows </p><pre class="fragment">    cd 3rdParty/isl
    mkdir build/
    ./configure --prefix=$PWD/build/ --with-int=imath
    make -j
    make install
</pre><p> After installing ISL, you need to update the following paths in <code>configure.cmake</code> to point to the ISL prefix (include and lib directories) </p><pre class="fragment">ISL_INCLUDE_DIRECTORY: path to the ISL include directory
ISL_LIB_DIRECTORY: path to the ISL library (lib/)
</pre><p> If the above fails, check the ISL <a href="http://repo.or.cz/isl.git/blob/HEAD:/README">README</a> file for details on how you should install it in general. Make sure that autoconf and libtool are installed on your system before building ISL.</p>
<h5>Building LLVM</h5>
<p >LLVM-5.0 or greater: required by the Halide framework. Check the section "Acquiring LLVM" in the Halide <a href="https://github.com/halide/Halide/blob/master/README.md">README</a> for details on how to get LLVM, build and install it.</p>
<h4><a class="anchor" id="autotoc_md8"></a>
Building Halide</h4>
<p >You need first to set the variable <code>LLVM_CONFIG_BIN</code> to point to the folder that contains <code>llvm-config</code> in the installed LLVM. You can set this variable in <code>configure.cmake</code>. If you installed LLVM from source in a directory called <code>build/</code>, the path is usually set as follows </p><pre class="fragment">LLVM_CONFIG_BIN=&lt;path to llvm&gt;/build/bin/
</pre><p> If you installed LLVM from the distribution packages, you need to find where it was installed and make <code>LLVM_CONFIG_BIN</code> point to the folder that contains <code>llvm-config</code>.</p>
<p >To get the Halide submodule and compile it run the following commands (in the Tiramisu root directory) </p><pre class="fragment">git submodule update --init --remote
cd Halide
git checkout tiramisu
make -j
</pre><p> You may get an access rights error from git when running trying to retrieve Halide. To solve this error, be sure to have your machine's ssh key added to your github account, the steps to do so could be found <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">HERE</a>.</p>
<p >Halide requires also libdl and libpthread. Both libraries should be available on every Linux and MacOs system and do not installation usually but you might need to install them if you get an error such as "-ldl not found" or "-lpthread not found".</p>
<h4><a class="anchor" id="autotoc_md9"></a>
Building Tiramisu</h4>
<p >To build Tiramisu, assuming you are in the Tiramisu root directory </p><pre class="fragment">    mkdir build
    cd build
    cmake ..
    make -j tiramisu
</pre><p> You need to add the Halide library path to your system library path. </p><pre class="fragment"># On Ubuntu
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;TIRAMISU_ROOT_DIRECTORY&gt;/3rdParty/Halide/lib/

# On MacOs
export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:&lt;TIRAMISU_ROOT_DIRECTORY&gt;/3rdParty/Halide/lib/
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
